

<div class="title text-center">
  <h2>Update Product : </h2>
</div>


<form [formGroup]="productForm" (ngSubmit)="submit()" class="m-lg-5">

  <div class="mb-3 form-group">
    <label for="productName"
           class="form-label">Product Name</label>
    <input type="text"
           formControlName="name"
           class="form-control"
           id="productName"
           required>
    <div *ngIf="name != null && name.invalid" class="alert alert-danger mt-2">

    </div>
  </div>

  <div class="mb-3 form-group">
    <label for="productDescription" class="form-label">Description</label>
    <textarea class="form-control"
              formControlName="description"
              id="productDescription"
              required>
    </textarea>
    <!--<div *ngIf="description?.errors? && (description?.errors['required'] !== null)" class="alert alert-danger mt-2">

    </div>-->
  </div>

  <div class="mb-3 form-group">
    <label for="productPrice" class="form-label">Product Price</label>
    <input type="number"
           formControlName="price"
           class="form-control"
           id="productPrice"
           aria-describedby="emailHelp"
           required>
    <!--<div *ngIf="price != null && price.invalid" class="alert alert-danger mt-2">

    </div>-->
  </div>

  <div class="mb-3 form-group">
    <label for="formFile" class="form-label">Upload a picture</label>
    <input class="form-control"
           type="file"
           formControlName="pictures"
           id="formFile">
  </div>

  <!--<div class="form-check form-switch mt-3 mb-4 form-group">
    <input class="form-check-input"
           type="checkbox"
           role="switch"
           id="flexSwitchCheckChecked"
           checked>
    <label class="form-check-label text-success"
           for="flexSwitchCheckChecked">En Stock</label>
    <label class="form-check-label text-danger"
           for="flexSwitchCheckChecked">Rupture de Stock</label>
  </div>-->

  <!--<div class="mb-3 form-check form-group">
    <input type="checkbox"
           class="form-check-input"
           id="exampleCheck1">
    <label class="form-check-label"
           for="exampleCheck1">Check me out</label>
  </div>-->
  <div class="form-group">
    <button [disabled]="productForm.pristine || !this.productForm.valid" type="submit" class="btn btn-primary">Submit</button>
  </div>

</form>


<div *ngIf="(response$ | async) as res">
  Success:
  {{res | json}}
</div>

<div *ngIf="error" class="alert alert-danger">
  An error occured. Please try again later.
  <br>
  <hr>
  {{error | json}}
</div>
